<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Health Checker Website v5.0</title>
  <link rel="stylesheet" href="libs/bootstrap.min.css">
  <link rel="stylesheet" href="libs/font-awesome.min.css">
  <link rel="stylesheet" href="dashboard/dashboard-v2.css">
</head>
<body>
  <div class="dashboard-container">
    <!-- Header -->
    <header class="dashboard-header">
      <div class="header-content">
        <div class="header-left">
          <h1><i class="fas fa-chart-line"></i> Health Checker v5.0</h1>
          <p class="subtitle">Analyse complète et professionnelle de vos pages web</p>
        </div>
        <div class="header-right">
          <button class="btn-action" id="new-analysis-btn">
            <i class="fas fa-plus"></i> Nouvelle analyse
          </button>
          <button class="btn-action btn-secondary" id="export-report-btn">
            <i class="fas fa-download"></i> Exporter
          </button>
        </div>
      </div>
    </header>

    <!-- Configuration Bar -->
    <div class="config-bar">
      <div class="config-item">
        <label><i class="fas fa-cog"></i> Preset:</label>
        <select id="preset-selector">
          <option value="SEO_STANDARD">SEO Standard</option>
          <option value="SEO_STRICT">SEO Strict</option>
          <option value="PERMISSIVE">Permissif</option>
          <option value="ECOMMERCE">E-commerce</option>
          <option value="BLOG">Blog/News</option>
          <option value="CORPORATE">Corporate</option>
        </select>
      </div>

      <div class="config-item">
        <label><i class="fas fa-user"></i> Profil:</label>
        <select id="profile-selector">
          <option value="FULL">Complet</option>
          <option value="CDP">CDP (Content)</option>
          <option value="WEBDESIGNER">Web Designer</option>
          <option value="ACCESSIBILITY">Accessibilité</option>
          <option value="PERFORMANCE">Performance</option>
        </select>
      </div>

      <div class="config-item url-display">
        <i class="fas fa-link"></i>
        <span id="current-url">Aucune page analysée</span>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <nav class="tabs">
      <button class="tab active" data-tab="overview">
        <i class="fas fa-home"></i>
        <span>Vue d'ensemble</span>
      </button>
      <button class="tab" data-tab="seo">
        <i class="fas fa-search"></i>
        <span>SEO</span>
      </button>
      <button class="tab" data-tab="images">
        <i class="fas fa-image"></i>
        <span>Images</span>
      </button>
      <button class="tab" data-tab="accessibility">
        <i class="fas fa-universal-access"></i>
        <span>Accessibilité</span>
      </button>
      <button class="tab" data-tab="performance">
        <i class="fas fa-tachometer-alt"></i>
        <span>Performance</span>
      </button>
      <button class="tab" data-tab="settings">
        <i class="fas fa-cog"></i>
        <span>Paramètres</span>
      </button>
    </nav>

    <!-- Tab Content: Overview -->
    <div class="tab-content active" id="tab-overview">
      <!-- Global Score Hero -->
      <div class="hero-score">
        <div class="score-display">
          <div class="circular-gauge" id="global-gauge"></div>
          <div class="score-info">
            <div class="score-value" id="global-score-value">-</div>
            <div class="score-label">Score Global</div>
            <div class="score-level" id="global-level">-</div>
          </div>
        </div>
        <div class="quick-stats">
          <div class="quick-stat">
            <i class="fas fa-calendar-alt"></i>
            <div>
              <div class="stat-value" id="analysis-date">-</div>
              <div class="stat-label">Date d'analyse</div>
            </div>
          </div>
          <div class="quick-stat">
            <i class="fas fa-clock"></i>
            <div>
              <div class="stat-value" id="analysis-duration">-</div>
              <div class="stat-label">Durée</div>
            </div>
          </div>
          <div class="quick-stat">
            <i class="fas fa-check-circle"></i>
            <div>
              <div class="stat-value" id="tests-passed">-</div>
              <div class="stat-label">Tests réussis</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Category Scores -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-chart-pie"></i> Scores par catégorie</h2>
        <div class="stats-grid" id="category-scores-grid">
          <!-- Rempli dynamiquement -->
        </div>
      </div>

      <!-- Radar Chart -->
      <div class="section">
        <div class="card">
          <div class="card-header">
            <h3><i class="fas fa-spider"></i> Vue 360°</h3>
          </div>
          <div class="card-body">
            <canvas id="radar-chart" height="300"></canvas>
          </div>
        </div>
      </div>

      <!-- Critical Issues -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-exclamation-triangle"></i> Problèmes critiques</h2>
        <div id="critical-issues-list">
          <!-- Rempli dynamiquement -->
        </div>
      </div>
    </div>

    <!-- Tab Content: SEO -->
    <div class="tab-content" id="tab-seo">
      <!-- Meta Tags -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-tags"></i> Meta Tags</h2>

        <!-- Meta Score Card -->
        <div class="card">
          <div class="card-header">
            <h3>Score SEO Meta</h3>
            <div class="score-badge" id="meta-score-badge">-</div>
          </div>
          <div class="card-body">
            <div class="meta-preview" id="meta-preview">
              <!-- Google preview -->
            </div>
            <div class="meta-details" id="meta-details">
              <!-- Détails des balises -->
            </div>
          </div>
        </div>

        <!-- Open Graph & Twitter Cards -->
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3><i class="fab fa-facebook"></i> Open Graph</h3>
            </div>
            <div class="card-body" id="og-tags">
              <!-- Open Graph tags -->
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3><i class="fab fa-twitter"></i> Twitter Card</h3>
            </div>
            <div class="card-body" id="twitter-tags">
              <!-- Twitter Card tags -->
            </div>
          </div>
        </div>
      </div>

      <!-- Headings Structure -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-heading"></i> Structure des titres</h2>
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>Distribution des titres</h3>
            </div>
            <div class="card-body">
              <canvas id="headings-chart"></canvas>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>Hiérarchie</h3>
            </div>
            <div class="card-body" id="headings-tree">
              <!-- Tree view -->
            </div>
          </div>
        </div>
      </div>

      <!-- Links Analysis -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-link"></i> Analyse des liens</h2>
        <div class="stats-grid-4" id="links-stats">
          <!-- Stats des liens -->
        </div>
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>Répartition des liens</h3>
            </div>
            <div class="card-body">
              <canvas id="links-chart"></canvas>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>Liens cassés & problèmes</h3>
            </div>
            <div class="card-body" id="links-issues">
              <!-- Liste des problèmes -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab Content: Images -->
    <div class="tab-content" id="tab-images">
      <!-- Image Stats -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-image"></i> Statistiques des images</h2>
        <div class="stats-grid" id="images-stats">
          <!-- Stats images -->
        </div>
      </div>

      <!-- Charts -->
      <div class="section">
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>Formats d'images</h3>
            </div>
            <div class="card-body">
              <canvas id="images-format-chart"></canvas>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>Optimisation</h3>
            </div>
            <div class="card-body">
              <canvas id="images-optimization-chart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Issues List -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-exclamation-circle"></i> Problèmes détectés</h2>
        <div id="images-issues-list">
          <!-- Liste des problèmes images -->
        </div>
      </div>
    </div>

    <!-- Tab Content: Accessibility -->
    <div class="tab-content" id="tab-accessibility">
      <!-- WCAG Level -->
      <div class="section">
        <div class="wcag-banner">
          <div class="wcag-badge" id="wcag-badge">
            <div class="badge-level">AA</div>
            <div class="badge-label">WCAG 2.1</div>
          </div>
          <div class="wcag-stats">
            <div class="wcag-stat">
              <div class="stat-value" id="wcag-compliance">-</div>
              <div class="stat-label">Conformité</div>
            </div>
            <div class="wcag-stat">
              <div class="stat-value" id="a11y-score">-</div>
              <div class="stat-label">Score global</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Contrast Analysis -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-adjust"></i> Analyse du contraste</h2>
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>WCAG AA</h3>
            </div>
            <div class="card-body">
              <div class="circular-gauge" id="contrast-aa-gauge"></div>
              <div id="contrast-aa-details"></div>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>WCAG AAA</h3>
            </div>
            <div class="card-body">
              <div class="circular-gauge" id="contrast-aaa-gauge"></div>
              <div id="contrast-aaa-details"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ARIA & Semantics -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-code"></i> ARIA et Sémantique</h2>
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>Attributs ARIA</h3>
            </div>
            <div class="card-body" id="aria-details">
              <!-- ARIA stats -->
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>HTML Sémantique</h3>
            </div>
            <div class="card-body" id="semantics-details">
              <!-- Semantics -->
            </div>
          </div>
        </div>
      </div>

      <!-- Issues List -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-list-ul"></i> Problèmes d'accessibilité</h2>
        <div id="a11y-issues-list">
          <!-- Liste des problèmes -->
        </div>
      </div>
    </div>

    <!-- Tab Content: Performance -->
    <div class="tab-content" id="tab-performance">
      <!-- Lighthouse Scores -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-lighthouse"></i> Scores Lighthouse</h2>
        <div class="lighthouse-grid">
          <div class="lighthouse-gauge">
            <div class="circular-gauge" id="lighthouse-perf-gauge"></div>
            <div class="gauge-label">Performance</div>
          </div>
          <div class="lighthouse-gauge">
            <div class="circular-gauge" id="lighthouse-a11y-gauge"></div>
            <div class="gauge-label">Accessibilité</div>
          </div>
          <div class="lighthouse-gauge">
            <div class="circular-gauge" id="lighthouse-bp-gauge"></div>
            <div class="gauge-label">Best Practices</div>
          </div>
          <div class="lighthouse-gauge">
            <div class="circular-gauge" id="lighthouse-seo-gauge"></div>
            <div class="gauge-label">SEO</div>
          </div>
        </div>
      </div>

      <!-- Core Web Vitals -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-heartbeat"></i> Core Web Vitals</h2>
        <div class="stats-grid-3">
          <div class="vital-card" id="lcp-card">
            <div class="vital-icon"><i class="fas fa-hourglass-half"></i></div>
            <div class="vital-value" id="lcp-value">-</div>
            <div class="vital-label">LCP</div>
            <div class="vital-description">Largest Contentful Paint</div>
          </div>
          <div class="vital-card" id="fid-card">
            <div class="vital-icon"><i class="fas fa-mouse-pointer"></i></div>
            <div class="vital-value" id="fid-value">-</div>
            <div class="vital-label">FID</div>
            <div class="vital-description">First Input Delay</div>
          </div>
          <div class="vital-card" id="cls-card">
            <div class="vital-icon"><i class="fas fa-compress-arrows-alt"></i></div>
            <div class="vital-value" id="cls-value">-</div>
            <div class="vital-label">CLS</div>
            <div class="vital-description">Cumulative Layout Shift</div>
          </div>
        </div>
      </div>

      <!-- Resources Breakdown -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-folder-open"></i> Ressources</h2>
        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>Répartition des ressources</h3>
            </div>
            <div class="card-body">
              <canvas id="resources-chart"></canvas>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>Statistiques</h3>
            </div>
            <div class="card-body" id="resources-stats">
              <!-- Stats ressources -->
            </div>
          </div>
        </div>
      </div>

      <!-- Recommendations -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-lightbulb"></i> Recommandations</h2>
        <div id="perf-recommendations">
          <!-- Liste des recommandations -->
        </div>
      </div>
    </div>

    <!-- Tab Content: Settings -->
    <div class="tab-content" id="tab-settings">
      <div class="section">
        <div class="card">
          <div class="card-header">
            <h3><i class="fas fa-cog"></i> Gestion des configurations</h3>
          </div>
          <div class="card-body" id="settings-manager">
            <!-- Configuration settings -->
          </div>
        </div>
      </div>

      <!-- History -->
      <div class="section">
        <h2 class="section-title"><i class="fas fa-history"></i> Historique des analyses</h2>
        <div class="card">
          <div class="card-header">
            <h3>Dernières analyses</h3>
            <div class="export-buttons">
              <button class="btn-small" id="export-csv"><i class="fas fa-file-csv"></i> CSV</button>
              <button class="btn-small" id="export-json"><i class="fas fa-file-code"></i> JSON</button>
            </div>
          </div>
          <div class="card-body">
            <canvas id="history-chart"></canvas>
            <div id="history-list" class="history-list">
              <!-- Liste historique -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading">
      <div class="spinner"></div>
      <p>Chargement des données...</p>
    </div>
  </div>

  <!-- Scripts -->
  <script src="assets/jquery-3.6.4.min.js"></script>
  <script src="libs/chart.min.js"></script>

  <!-- API Core -->
  <script src="api/config/ConfigurationManager.js"></script>
  <script src="api/core/ScoringEngine.js"></script>
  <script src="api/core/AnalyzerEndpoint.js"></script>
  <script src="api/endpoints/MetaAnalyzerEndpoint.js"></script>
  <script src="api/endpoints/ImageAnalyzerEndpoint.js"></script>
  <script src="api/endpoints/HeadingAnalyzerEndpoint.js"></script>
  <script src="api/endpoints/LinkAnalyzerEndpoint.js"></script>
  <script src="api/endpoints/AccessibilityAnalyzerEndpoint.js"></script>
  <script src="api/endpoints/PerformanceAnalyzerEndpoint.js"></script>
  <script src="api/core/AnalysisOrchestrator.js"></script>

  <!-- Dashboard -->
  <script src="dashboard/dashboard-v2.js"></script>
</body>
</html>
